// Flags: --allow-natives-syntax

// Inlining shift with holey smi arrays shouldn't deopt just because it
// encounters the hole on the copy step.
function o0(undefined) {
  var o2 = o1.shift();
  return o2;
}

function o4() {
  var undefined = [undefined, undefined,, 3];
  o1[undefined] = 2;
  return o1;
}

o0(o4({}));
o0(o4(JSON.stringify(o3)));

o0(o4());
o5(o0);


// Flags: --allow-natives-syntax --verify-heap

function test(o2) { [o2,,]; }

undefined(0);
test(0);

test(0);