// Flags: --allow-natives-syntax

function o0(o1, o2) {
  // Do something with a2 that needs a map check (for DOUBLE_ELEMENTS).
  var o3 = o2[0];
  // Emit a load that transitions a1 to FAST_ELEMENTS.
  var o4 = o1[0];
  // Emit a store to a2 that assumes DOUBLE_ELEMENTS.
  // The map check is considered redundant and will be eliminated.
  o2[0] = 0.3;
}

// Prepare type feedback for the "t = a1[0]" load: fast elements.
var o5 = new Array(1);
o5[0] = "tagged";
o0(o5, [1]);

// Prepare type feedback for the "a2[0] = 0.3" store: double elements.
var o6 = new Array(1);
o6[0] = 0.1;
o0(o6, o6);

// Reset |double_elem| and go have a party.
o6 = new Array(10);
o6[0] = 0.1;

o0(o6, o6);

//assertEquals(0.3, double_elem[0]);
//assertEquals(undefined, double_elem[1]);