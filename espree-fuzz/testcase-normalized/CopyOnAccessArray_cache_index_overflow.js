//-------------------------------------------------------------------------------------------------------
// Copyright (C) Microsoft. All rights reserved.
// Licensed under the MIT license. See LICENSE.txt file in the project root for full license information.
//-------------------------------------------------------------------------------------------------------

// -force:CopyOnAccessArray -testtrace:CopyOnAccessArray

function test ()
{
    var o1=[];
    o1[0]=[1,2,3,4,5];
    o1[1]=[1,2,3,4,5];
    o1[2]=[1,2,3,4,5];
    o1[3]=[1,2,3,4,5];
    o1[4]=[1,2,3,4,5];
    o1[5]=[1,2,3,4,5];
    o1[6]=[1,2,3,4,5];
    o1[7]=[1,2,3,4,5];
    o1[8]=[1,2,3,4,5];
    o1[9]=[1,2,3,4,5];
    o1[10]=[1,2,3,4,5];
    o1[11]=[1,2,3,4,5];
    o1[12]=[1,2,3,4,5];
    o1[13]=[1,2,3,4,5];
    o1[14]=[1,2,3,4,5];
    o1[15]=[1,2,3,4,5];
    o1[16]=[1,2,3,4,5];
    o1[17]=[1,2,3,4,5];
    o1[18]=[1,2,3,4,5];
    o1[19]=[1,2,3,4,5];
    o1[20]=[1,2,3,4,5];
    o1[21]=[1,2,3,4,5];
    o1[22]=[1,2,3,4,5];
    o1[23]=[1,2,3,4,5];
    o1[24]=[1,2,3,4,5];
    o1[25]=[1,2,3,4,5];
    o1[26]=[1,2,3,4,5];
    o1[27]=[1,2,3,4,5];
    o1[28]=[1,2,3,4,5];
    o1[29]=[1,2,3,4,5];
    o1[30]=[1,2,3,4,5];
    o1[31]=[1,2,3,4,5];
    o1[32]=[1,2,3,4,5];
    o1[33]=[1,2,3,4,5];

    for (var o2=0; o2<32; o2++)
    {
        o1[o2][0]=0; // Conversion of copy-on-access array should be transparent
    }
}

test();

