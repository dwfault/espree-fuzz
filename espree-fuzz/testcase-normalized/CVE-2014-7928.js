// Flags: --allow-natives-syntax

// Inlining shift with holey smi arrays shouldn't deopt just because it
// encounters the hole on the copy step.
function o0(o1) {
  var o2 = o1.shift();
  return o2;
}

function o4() {
  var o1 = [1, 2,, 3];
  o1[0] = 2;
  return o1;
}

o0(o4());
o0(o4());

o0(o4());
o5(o0);


// Flags: --allow-natives-syntax --verify-heap

function test(o2) { [o2,,]; }

test(0);
test(0);

test(0);